# Tratamento de dados

Esta sec√ß√£o narra o tratamento dos dados do inqu√©rito, para que as pessoas interessadas possam seguir o processamento dos dados antes das an√°lises apresentadas nas sec√ß√µes seguintes.

::: {.callout-note collapse="false"}
## Aten√ß√£o

Nesta sec√ß√£o, o c√≥digo refere a pasta "data", que n√£o existe no reposit√≥rio online que gera este livro. Essa omiss√£o √© propositada: queremos ser o mais transparentes poss√≠vel, partilhando todo o c√≥digo de an√°lise, mas precisamos de respeitar a anonimidade que foi prometida aos participantes no in√≠cio do inqu√©rito.
:::

Em prepara√ß√£o, precisamos de ativar algumas packages.

```{r packages}
#| warning: false
library(tidyverse)
library(readr)
library(here)
```

## Importar, espreitar, 

Primeiro, importamos os dados, para que possamos mexer neles no RStudio, e damos uma espreitadela[^wrangle-1] üëÄ.

[^wrangle-1]: Em ingl√™s, espreitar √© "to glimpse". A fun√ß√£o `glimpse()` da package `dplyr` faz isso mesmo.

```{r data}
# importar os dados
data_raw <- readr::read_csv(
  here::here("data", "BD_PocketStudy1.csv"),
  # calar a mensagem sobre tipo de colunas
  show_col_types = FALSE
)

# espreitar o que temos
dplyr::glimpse(data_raw)
```

## Nomes, classes e valores

Espreitando os conte√∫dos de `data_raw`, encontramos 509 linhas e 42 colunas com nomes descritivos mas dif√≠ceis de utilizar num contexto de programa√ß√£o. Em primeiro lugar, vamos ent√£o renomear as colunas e selecionar apenas as que vamos querer utilizar no futuro. √â chato, mas tem de ser. Comecemos.

```{r select}
# selecionar e renomear as variaveis ao mesmo tempo
data <- data_raw %>% 
  dplyr::select(
    envolvimento_despesas = 5,
    valor_inflacao = 6,
    literacia_1 = 7,
    literacia_2 = 8,
    literacia_3 = 9,
    literacia_4 = 10,
    literacia_5 = 11,
    contabili_1 = 12,
    contabili_2 = 13,
    contabili_3 = 14,
    contabili_4 = 15,
    contabili_5 = 16,
    piada_escolha = 17,
    piada_gosto = 18,
    satisfacao_hoje = 19,
    satisfacao_antes = 20,
    comparar_poupancas = 21,
    compara_gastos = 22,
    emocao_calma = 23,
    emocao_medo = 24,
    emocao_felicidade = 25,
    emocao_tristeza = 26,
    emocao_confusao = 27,
    emocao_ansiedade = 28,
    emocao_contentamento = 29,
    emocao_outra = 30,
    emocao_nenhuma = 31,
    emocao_outra_aberta = 32,
    influencia_inflacao = 33,
    idade = 34,
    genero = 35,
    distrito = 36,
    rendimento = 37,
    comentario = 38,
    tempo_comeco = 39,
    tempo_fim = 40
  )
```

J√° est√°!


